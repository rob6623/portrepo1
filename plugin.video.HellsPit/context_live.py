#!/usr/bin/python
# -*- coding: utf-8 -*-
#############################################################
#´´´´´´´´´´´´´´´´´´´ ¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´´´´`#
#´´´´´´´´´´´´´´´´´¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´´´´#
#´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´´´´´´´´#
#´´´´´´´´´´´´´¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´´#
#´´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´´#
#´´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´`´´´´´´´´´´´¶¶´´´´´´´´´´`#
#´´´´´´´´´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´´´´´´´´´#
#´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´#
#´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´#
#´´´´´´´´´´¶¶´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶´´´´´´´´´´#
#´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´¶¶´´´´´´´´´´#
#´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´´´´´#
#´´´´´´´´´´´¶¶´¶¶´´´¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´¶¶´¶¶´´´´´´´´´´´#
#´´´´´´´´´´´´¶¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶¶¶´´´´´´´´´´´#
#´´´´´´´´´´´´´¶¶¶´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶´¶¶¶´´´´´´´´´´´´´#
#´´´´¶¶¶´´´´´´´¶¶´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´¶¶´´´´´´¶¶¶¶´´´#
#´´´¶¶¶¶¶´´´´´¶¶´´´¶¶¶¶¶¶¶´´´¶¶¶´´´¶¶¶¶¶¶¶´´´¶¶´´´´´¶¶¶¶¶¶´´#
#´´¶¶´´´¶¶´´´´¶¶´´´´´¶¶¶´´´´¶¶¶¶¶´´´´¶¶¶´´´´´¶¶´´´´¶¶´´´¶¶´´#
#´¶¶¶´´´´¶¶¶¶´´¶¶´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´¶¶¶¶´´´´¶¶¶´#
#¶¶´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´¶¶#
#¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶´´´´¶¶¶¶¶¶¶¶´´´´´´¶¶¶¶¶¶¶¶#
#´´¶¶¶¶´¶¶¶¶¶´´´´´´¶¶¶¶¶´´´´´´´´´´´´´´¶¶¶´¶¶´´´´´¶¶¶¶¶¶´¶¶¶´#
#´´´´´´´´´´¶¶¶¶¶¶´´¶¶¶´´¶¶´´´´´´´´´´´¶¶´´¶¶¶´´¶¶¶¶¶¶´´´´´´´´#
#´´´´´´´´´´´´´´¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶¶¶¶¶¶´¶¶´¶¶¶¶¶¶´´´´´´´´´´´´´´#
#´´´´´´´´´´´´´´´´´´¶¶´¶¶´¶´¶´¶´¶´¶´¶´¶´¶´¶¶´´´´´´´´´´´´´´´´´#
#´´´´´´´´´´´´´´´´¶¶¶¶´´¶´¶´¶´¶´¶´¶´¶´¶´´´¶¶¶¶¶´´´´´´´´´´´´´´#
#´´´´´´´´´´´´¶¶¶¶¶´¶¶´´´¶¶¶¶¶¶¶¶¶¶¶¶¶´´´¶¶´¶¶¶¶¶´´´´´´´´´´´´#
#´´´´¶¶¶¶¶¶¶¶¶¶´´´´´¶¶´´´´´´´´´´´´´´´´´¶¶´´´´´´¶¶¶¶¶¶¶¶¶´´´´#
#´´´¶¶´´´´´´´´´´´¶¶¶¶¶¶¶´´´´´´´´´´´´´¶¶¶¶¶¶¶¶´´´´´´´´´´¶¶´´´#
#´´´´¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶´´´´´¶¶¶¶¶´´´´´¶¶¶´´´´#
#´´´´´´¶¶´´´¶¶¶´´´´´´´´´´´¶¶¶¶¶¶¶¶¶´´´´´´´´´´´¶¶¶´´´¶¶´´´´´´#
#´´´´´´¶¶´´¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶´´¶¶´´´´´´#
#´´´´´´´¶¶¶¶´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´´¶¶¶¶´´´´´´´#
#########################BONECRUSHER#########################
#                        ###########                        #
#\__    ___/|  |__ |__| ______                                          
#  |    |   |  |  \|  |/  ___/                                          
#  |    |   |   Y  \  |\___ \                                           
#  |____|   |___|  /__/____  >                                          
#                \/        \/                                           
#_________            .___                                              
#\_   ___ \  ____   __| _/____                                          
#/    \  \/ /  _ \ / __ |/ __ \                                         
#\     \___(  <_> ) /_/ \  ___/                                         
# \______  /\____/\____ |\___  >                                        
#        \/            \/    \/                                         
# __      __                                                            
#/  \    /  \_____    ______                                            
#\   \/\/   /\__  \  /  ___/                                            
# \        /  / __ \_\___ \                                             
#  \__/\  /  (____  /____  >                                            
#       \/        \/     \/                                             
#___________.__                  .___                                   
#\_   _____/|__|__  ___ ____   __| _/                                   
# |    __)  |  \  \/  // __ \ / __ |                                    
# |     \   |  |>    <\  ___// /_/ |                                    
# \___  /   |__/__/\_ \\___  >____ |                                    
#     \/             \/    \/     \/                                    
#__________                                                             
#\______   \___.__.                                                     
# |    |  _<   |  |                                                     
# |    |   \\___  |                                                     
# |______  // ____|                                                     
#        \/ \/                                                          
#    
#______________________   _____      _____      __________________     _____ ________________________________________ ________  __      __  
#\__    ___/\_   _____/  /  _  \    /     \    /   _____/\_   ___ \   /  _  \\______   \_   _____/\_   ___ \______   \\_____  \/  \    /  \ 
#  |    |    |    __)_  /  /_\  \  /  \ /  \   \_____  \ /    \  \/  /  /_\  \|       _/|    __)_ /    \  \/|       _/ /   |   \   \/\/   / 
#  |    |    |        \/    |    \/    Y    \  /        \\     \____/    |    \    |   \|        \\     \___|    |   \/    |    \        /  
#  |____|   /_______  /\____|__  /\____|__  / /_______  / \______  /\____|__  /____|_  /_______  / \______  /____|_  /\_______  /\__/\  /   
#   
import urllib
import xbmc

pluginid = "plugin.video.HellsPit"

def main():
    path = xbmc.getInfoLabel('ListItem.Path')
    stream_file = xbmc.getInfoLabel('ListItem.FileNameAndPath')
    if stream_file.endswith(".strm"):
        url = "plugin://{0}/tv/set_live_library_player/{1}".format(pluginid, urllib.quote_plus(path))
    else:
        url = "plugin://{0}/tv/set_live_library_player/{1}".format(pluginid, urllib.quote_plus(stream_file))
    xbmc.executebuiltin("RunPlugin({0})".format(url))

if __name__ == '__main__':
    main()